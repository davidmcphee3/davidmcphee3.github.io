<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />

<title>David McPhee's Personal Homepage</title>
<link rel="shortcut icon" type="image/png" href="includes/favicon.png">
<link href="includes/main.css" rel="stylesheet" type="text/css" media="screen" />

</head>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-C8K8BK48K1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-C8K8BK48K1');
</script>

<body style="background-color:#121212;">

<div id="content">

<div id="nav">
<ul>
<li><a href="/projects">Back To Projects</a></li>
</ul>
</div>

<!-- End Header $include_path/header.html -->

<div class="main">
<div class="bTitle"><p><u><strong>DIY Webserver</strong></u><p /></div>
<img class="bImg" src="/includes/projects/webserver/thumbnail.jpg" alt="Thumbnail for webserver"></img>
There is more to creating a website than just buying a cool domain name as I have found out. This project
uses a raspberry pi to host the files of this website <i>meta</i>. This is a very low cost way to experiment with
web hosting and was one of the driving factors for this project. This project attempts to build and host a
website whilst spending as little as possible.
<p />
I originally just wanted to have a personal website that would contain my CV and other "professional" nick
nacks. I thought it was going to be as cheap as just buying a domain but as I discovered there are a lot more
steps. For the most basic website there needs to be: website files (the data), a place to store them, and a
connection to the World Wide Web. For any chance of people visiting the website there also needs to be a domain
name. This is more or less cosmetic but people would much rather go to <i>davidmcphee.ca</i> than 204.83.45.209.
I spent $24.00 to lease this domain for 2 years, not bad. The only work-around is to get a free domain but that
looks something like: <i>davidmcphee.notascam.tk</i>.
<img class="bImg" src="/includes/projects/webserver/img6.png" alt="DNS records of website"></img>
<div class="bSub"><p><b>Which Computer to Use</b><p /></div>
For the sake of this project a server is just a different way to use a computer. With this statement as an axiom,
my personal laptop could have been used to host the website. I conducted an experiment in which I wrote a couple
of scripts for a computer to host some files and transfer them to itself. It worked locally but the entire file
system was exposed to the receiving script. This is a super sketchy and bad idea for a public website. Welcome
the Raspberry Pi. The RPi is a tiny computer that can do almost anything a normal computer can do... like host
a website!
<div class="bSub"><p><b>Default Pie</b><p /></div>
Since there will be minimal security on the RPi I needed to clear it of any existing data and upload the latest
operating system. Normal computers have a hard drive for storage but the RPi just has a SD card. I found this handy
USB to SD reader to connect to my personal computer.
<img class="bImg" src="/includes/projects/webserver/img5.jpg" alt="USB to SD Reader"></img>
The Raspberry Pi OS could then be installed on the SD card (which is all of the RPi's memory) using the Raspberry
Pi Imager. Once this was finished the RPi was basically <i>factory reset</i>. I then wanted to be able to
<b>SSH</b> into the RPi from a remote computer but to do so I first needed to activate the feature on the RPi.
This meant that I had to connect the RPi to a keyboard, monitor, and mouse. The RPi, like any other computer, needs
power and internet connection.
<img class="bImg" src="/includes/projects/webserver/img1.jpg" alt="RPi connected to KVM"></img>
My router is right beside my breaker which makes for a bit of a comical set up. The RPi is connected to a power
cable, ethernet, wireless keyboard/mouse, and a HDMI cable. This was only temporary as I just needed to enable
SSH and find the IP address. Even after that explaination my wife was still a little alarmed. A quick note to
would-be hackers, I have changed both the username and password of the RPi from the defaults. Once the changes
were made I removed the keyboard, mouse, and HDMI cable and secured the RPi as seen in the header image.
<div class="sText"><p>Note: I did mess some software up later on so I had to redo all the previous steps,
lol<p /></div>
<div class="bSub"><p><b>Transform Computer to Server</b><p /></div>
The moment every computer dreams of, turning into a server. But first, a rough explanation of how visiting
websites work: Every website is hosted on a computer, called a server. When another computer, you, wants to visit
a website you actually request the webpage data. You ask the server for a webpage and the server sends you over
the files that make up a webpage. A web browser does all of this for you but cannot act as a server. Therefore the
RPi needs a different tool to serve the web files. This tool is called Apache and is open source for my purposes.
<div class="bSub"><p><b>The Birth of a Webpage</b><p /></div>
Apache is capable of serving HTML files over HTTP and HTTPS web protocols. The files on the RPi server are .html
and Chrome, or another browser, connects via HTTP(S). After the installation, a default landing page has been made
in the /var/www/html/ directory. Now when a computer makes a HTTP connection they will get this page:
<img class="bImg" src="/includes/projects/webserver/img7.png" alt="Default Apache Landing Page"></img>
<div class="bSub"><p><b>Internet For Everyone</b><p /></div>
The IP address in the default landing page is not the one for this website but rather a local IP address. To allow
public computers access, the router needs to be configured. The RPi is connected via ethernet and given a static
IP to avoid dynamic IP/domain configurations. A server service had to be created in the Port Forwarding section
of the routers settings. This service opens port 80 for TCP/UDP to the RPi and not any other computer on the
network. Now when someone connects to the public IP assigned to the router, they are directed to the RPi which in
turn sends them the HTML <i>this website</i>.
<div class="bSub"><p><b>Whats Next?</b><p /></div>
Now that I have a host and a domain name the actual website can be coded. This is found in the next project and
goes into what files have replaced the default one that Apache created. Buckle up for the wild ride that is HTML,
CSS, and internet domains.
</div>

<!-- Begin Footer $include_path/footer.html -->
<div id="footer">
<br>
david.mcphee3@gmail.com | MIT license unless otherwise stated
</div>

</div>

<div id="content">
<!-- begin wwww.htmlcommentbox.com -->
 <div id="HCB_comment_box"><a href="http://www.htmlcommentbox.com">Comment Box</a> is loading comments...</div>
 <script type="text/javascript" id="hcb"> /*<!--*/ if(!window.hcb_user){hcb_user={};} (function(){var s=document.createElement("script"), l=hcb_user.PAGE || (""+window.location).replace(/'/g,"%27"), h="https://www.htmlcommentbox.com";s.setAttribute("type","text/javascript");s.setAttribute("src", h+"/jread?page="+encodeURIComponent(l).replace("+","%2B")+"&mod=%241%24wq1rdBcg%24Xk1c2cCSlprFkr2MjLvTb."+"&opts=16662&num=10&ts=1644780820414");if (typeof s!="undefined") document.getElementsByTagName("head")[0].appendChild(s);})(); /*--!>*/ </script>
<style>
#HCB_comment_box textarea{width:50%;
}
#HCB_comment_box{font-family:arial;color:#FFFFFF;background-color:none;}
#HCB_comment_box p.error{border:1px solid red;background-color:#fee}
.hcb-mod b{color:#d34}
#HCB_comment_box textarea,#hcb_form_name,#HCB_comment_box input.text{border:none;border-radius:5px;background-color:#FFFFFF}
#HCB_comment_box .text-blur {color:none;}
#HCB_comment_box blockquote{background-color:#626262;width:50%;padding:10px;border-radius:5px}
#HCB_comment_box .hcb-wrapper-half{display:block;width:50%;float:left;}
#HCB_comment_box .hcb-wrapper{clear:both}
#HCB_comment_box input.text{display:block;width:75%}
#HCB_comment_box input.submit{border-radius: 20px;;background-color:#626262;color:#FFFFFF;font-weight:700;cursor:pointer}
#HCB_comment_box span.home-desc{font-size:10px;opacity:.4}
.hcb-link{color:white;text-decoration:underline}
.hcb-mod i{color:#00008b}

 </style>
<!-- end www.htmlcommentbox.com -->
</div>

</body>
</html>
